


[Previous Page](https://github.com/EtricKombat/Course_Practical_Guide_EKS/blob/master/_docs/ch2/go_private,go_secure,go_open_vpn.md)---------------------------------------------------- [Next Page](https://github.com/EtricKombat/Course_Practical_Guide_EKS/blob/master/_docs/ch2/demo_acm.md)




# Chapter - 2 
# Networking and EKS

## 8. DNS - Do Not Suffer

![image](https://user-images.githubusercontent.com/33585301/119482008-ff2c1d00-bd70-11eb-8624-0736016aba13.png)

DNS with EKS in aws using route53 , dont have to develop custom logic to control the dns logic record for your applications 

______________________

![image](https://user-images.githubusercontent.com/33585301/119482147-271b8080-bd71-11eb-8256-a72b9fc3cf4d.png)

Left side with our application running on ec2 which are the worker nodes of our cluster 
______________________

![image](https://user-images.githubusercontent.com/33585301/119482076-123eed00-bd71-11eb-9ac2-0115d31de86e.png)

We will expose these using the load balancer 
______________________



![image](https://user-images.githubusercontent.com/33585301/119482538-9beeba80-bd71-11eb-8c8c-69961186df67.png)

and then hand the dns generated by the aws that points to the load balancer to the end user , the benifit we spread  the charge across our worker nodes and present a single point of access to user so that it is transparent for him  
______________________

![image](https://user-images.githubusercontent.com/33585301/119482113-1c60eb80-bd71-11eb-8f43-ebddbb5050dc.png)

url doesn't make any sense at all , the dns generate by aws is not friendly . We need to provide something else that can read by humans 

______________________

![image](https://user-images.githubusercontent.com/33585301/119482222-3dc1d780-bd71-11eb-8968-71ea58d960ff.png)

Lets put an ssl certificate with the help of ACM on top of the load balancer to securely terminate the connection to the customer

______________________
![image](https://user-images.githubusercontent.com/33585301/119482273-4d412080-bd71-11eb-9eb9-de531096fee2.png)

Use route 53 to create dns record we want to put in front of the load balancer  
______________________

![image](https://user-images.githubusercontent.com/33585301/119482817-eec87200-bd71-11eb-92be-0d2b0b3fed4f.png)

This will give the end user a good present  in url to find the application 
______________________

![image](https://user-images.githubusercontent.com/33585301/119482298-5500c500-bd71-11eb-92ef-a442136bcf2a.png)

The real issue is since we are using k8s an automation is driving ourself in this project 

______________________

![image](https://user-images.githubusercontent.com/33585301/119482899-056ec900-bd72-11eb-8ae6-25ae668a4d05.png)

How can we easilty achieve that 
______________________


![image](https://user-images.githubusercontent.com/33585301/119483009-2800e200-bd72-11eb-929b-4f20a47d9b4d.png)

External DNS : This is an application that can be installed in k8s to manage DNS for our appliation 

- It is opensource with large community and highly supporting introduction environment for aws 
- integrated prettly easly with aws & route 53 actually other DNS services in other cloud providers 
- the app can be used and configured from same manifest files that will deploy our applications in k8s , so there is no need to do anything before or after a normal deployment 
- easy to configure
______________________

![image](https://user-images.githubusercontent.com/33585301/119483151-4d8deb80-bd72-11eb-8a7e-7539378adebf.png)

The engineering group need to use external DNS  


![image](https://user-images.githubusercontent.com/33585301/119483083-3ea73900-bd72-11eb-97ab-46be16eb53f2.png)

So it is deployed into the cluster with correct IAM permissions on k8s .

The problem of handling DNS seperatly is gone .

